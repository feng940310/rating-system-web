(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["pages-profile-profile"],{1236:function(t,e,a){"use strict";(function(t,s){a("6a54");var n=a("f5bd").default;Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0,a("bf0f"),a("18f7"),a("de6c"),a("7a76"),a("c9b5"),a("c223"),a("4626"),a("5ac7"),a("d4b5"),a("5c47"),a("a1c1"),a("2797"),a("01a2"),a("e39c"),a("fd3c"),a("8f71"),a("473f"),a("e838"),a("aa9c"),a("dc8a"),a("f7a5"),a("dc89"),a("2425");var r=n(a("b7c7")),o=n(a("fcf3")),i=n(a("2634")),c=n(a("2fdc")),d={data:function(){return{userInfo:{},loading:!1,assigning:!1,exporting:!1,showUserModal:!1,showAssignModal:!1,showSuccessModal:!1,showExportSuccessModal:!1,showResetUsersModal:!1,exportSuccessInfo:{count:0,filename:""},userList:[],assignResult:null,stats:{totalWorks:0,ratedWorks:0,pendingWorks:0,completionRate:0},statsLoading:!1}},computed:{userInitial:function(){return this.userInfo.name&&this.userInfo.name.charAt(0)||"U"},isAdmin:function(){return"admin"===this.userInfo.role}},onLoad:function(){this.loadUserInfo(),this.removeActionSheet()},onShow:function(){this.loadUserInfo(),this.removeActionSheet(),this.checkAndRefreshStats()},methods:{getRoleName:function(t){return{admin:"管理员",expert:"专家",leader:"领导"}[t]||"用户"},loadUserInfo:function(){var t=uni.getStorageSync("userInfo");t?(this.userInfo=t,"admin"!==this.userInfo.role&&this.userInfo._id&&this.loadUserStats()):uni.navigateTo({url:"/pages/login/login"})},loadUserStats:function(){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(!e.statsLoading){a.next=2;break}return a.abrupt("return");case 2:return a.prev=2,e.statsLoading=!0,a.next=6,t.callFunction({name:"getUserWorkStats",data:{userId:e.userInfo._id},spaceType:"aliyun"});case 6:n=a.sent,n.result&&n.result.success?e.stats=n.result.data:(s.error("获取统计数据失败:",n.result&&n.result.message),e.stats={totalWorks:0,ratedWorks:0,pendingWorks:0,completionRate:0}),a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](2),s.error("加载统计数据错误:",a.t0),e.stats={totalWorks:0,ratedWorks:0,pendingWorks:0,completionRate:0};case 14:return a.prev=14,e.statsLoading=!1,a.finish(14);case 17:case"end":return a.stop()}}),a,null,[[2,10,14,17]])})))()},checkAndRefreshStats:function(){var t=this;return(0,c.default)((0,i.default)().mark((function e(){var a;return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(e.prev=0,a=uni.getStorageSync("needRefreshStats"),!a){e.next=9;break}if(uni.removeStorageSync("needRefreshStats"),"admin"===t.userInfo.role||!t.userInfo._id){e.next=7;break}return e.next=7,t.loadUserStats();case 7:e.next=10;break;case 9:t.loadStatsFromCache();case 10:e.next=15;break;case 12:e.prev=12,e.t0=e["catch"](0),s.error("检查刷新统计状态失败:",e.t0);case 15:case"end":return e.stop()}}),e,null,[[0,12]])})))()},loadStatsFromCache:function(){try{var t=uni.getStorageSync("userStatsCache");t&&"object"===(0,o.default)(t)&&(this.stats={totalWorks:t.totalWorks||0,ratedWorks:t.ratedWorks||0,pendingWorks:t.pendingWorks||0,completionRate:t.completionRate||0})}catch(e){s.error("从缓存加载统计数据失败:",e)}},goToWorks:function(){uni.setStorageSync("needRefreshWorks",!0),uni.navigateTo({url:"/pages/works/works"})},goToWorksManage:function(){uni.navigateTo({url:"/pages/admin/admin"})},handleAssignWorks:function(){var t=this;return(0,c.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.showAssignModal=!0;case 1:case"end":return e.stop()}}),e)})))()},closeAssignModal:function(){this.showAssignModal=!1},closeSuccessModal:function(){this.showSuccessModal=!1,this.assignResult=null},confirmAssign:function(){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var n,r;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.assigning=!0,a.prev=1,a.next=4,t.callFunction({name:"assignWorksToExperts",data:{clearExisting:!0},spaceType:"aliyun"});case 4:n=a.sent,n.result.success?(r=n.result.data,e.assignResult={totalAssignments:r.totalAssignments,specialAssignments:r.specialAssignments,expertAssignments:r.expertAssignments,totalWorks:r.totalWorks,expertCount:r.expertCount,avgWorks:Math.round(r.expertAssignments/14)},e.showAssignModal=!1,e.showSuccessModal=!0):uni.showToast({title:n.result.message,icon:"none",duration:3e3}),a.next=12;break;case 8:a.prev=8,a.t0=a["catch"](1),s.error("作品分配失败:",a.t0),uni.showToast({title:"分配失败: "+a.t0.message,icon:"none",duration:3e3});case 12:return a.prev=12,e.assigning=!1,e.showAssignModal=!1,a.finish(12);case 16:case"end":return a.stop()}}),a,null,[[1,8,12,16]])})))()},showConfirm:function(t,e){return new Promise((function(a){uni.showModal({title:t||"确认操作",content:e,confirmText:"确定",cancelText:"取消",success:function(t){a(t.confirm)}})}))},handleLogout:function(){uni.clearStorageSync(),uni.navigateTo({url:"/pages/login/login"})},handleCreateUsers:function(){var t=this;return(0,c.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:t.showResetUsersModal=!0;case 1:case"end":return e.stop()}}),e)})))()},closeResetUsersModal:function(){this.showResetUsersModal=!1},confirmResetUsers:function(){var t=this;return(0,c.default)((0,i.default)().mark((function e(){return(0,i.default)().wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.prev=0,t.showResetUsersModal=!1,t.loading=!0,uni.showLoading({title:"正在重置用户列表...",mask:!0}),e.next=6,t.executeCreateUsers();case 6:e.next=12;break;case 8:e.prev=8,e.t0=e["catch"](0),s.error("创建用户失败:",e.t0),uni.showToast({title:"重置失败: "+(e.t0.message||"未知错误"),icon:"none",duration:3e3});case 12:return e.prev=12,t.loading=!1,uni.hideLoading(),e.finish(12);case 16:case"end":return e.stop()}}),e,null,[[0,8,12,16]])})))()},executeCreateUsers:function(){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return s.log("=== 开始执行创建用户逻辑 ==="),a.prev=1,a.delegateYield((0,i.default)().mark((function a(){var n,r,o,c,d,l,f,p,u;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=null,r=!1,o=0,c=3;case 4:if(r||!(o<c)){a.next=32;break}return o++,s.log("第 ".concat(o," 次尝试调用 createUsers 云函数...")),a.prev=7,a.next=10,Promise.race([t.callFunction({name:"createUsers",data:{},spaceType:"aliyun"}),new Promise((function(t,e){return setTimeout((function(){return e(new Error("创建用户请求超时"))}),3e4)}))]);case 10:if(n=a.sent,!n||!n.result){a.next=16;break}s.log("第 ".concat(o," 次调用成功:"),n.result),r=!0,a.next=17;break;case 16:throw new Error("云函数返回结果为空");case 17:a.next=30;break;case 19:if(a.prev=19,a.t0=a["catch"](7),s.error("第 ".concat(o," 次创建尝试失败:"),a.t0.message),!(o<c)){a.next=29;break}return s.log("等待 ".concat(2*o," 秒后重试...")),a.next=26,new Promise((function(t){return setTimeout(t,2e3*o)}));case 26:uni.showLoading({title:"创建失败，第".concat(o+1,"次重试中..."),mask:!0}),a.next=30;break;case 29:throw a.t0;case 30:a.next=4;break;case 32:if(r&&n&&n.result){a.next=34;break}throw new Error("所有创建尝试都失败了");case 34:d=n.result,s.log("创建用户云函数执行结果:",d),d.success?(l=d.data||{},f=l.expert||14,p=l.leader||1,s.log("用户创建成功:",l),uni.showModal({title:"重置成功！",content:"已成功创建 ".concat(f," 个专家账号和 ").concat(p," 个领导账号。\n\n现在可以查看用户列表获取账号密码。"),showCancel:!1,confirmText:"查看用户列表",success:function(t){t.confirm&&setTimeout((function(){e.handleViewUsers()}),500)}})):(u=d.message||"未知错误",s.error("创建用户失败:",u),uni.showModal({title:"重置失败",content:"创建用户失败：".concat(u,"\n\n请检查云函数是否正确部署，或联系技术支持。"),showCancel:!0,cancelText:"取消",confirmText:"重试",success:function(t){t.confirm&&e.handleCreateUsers()}}));case 37:case"end":return a.stop()}}),a,null,[[7,19]])}))(),"t0",3);case 3:a.next=11;break;case 5:a.prev=5,a.t1=a["catch"](1),s.error("创建用户异常:",a.t1),"重置失败",n=e.parseCreateUserError(a.t1),uni.showModal({title:"重置失败",content:n,showCancel:!0,cancelText:"取消",confirmText:"重试",success:function(t){t.confirm&&e.handleCreateUsers()}});case 11:case"end":return a.stop()}}),a,null,[[1,5]])})))()},parseCreateUserError:function(t){if(!t||!t.message)return"未知错误，请联系技术支持。";var e=t.message.toLowerCase();return e.includes("timeout")||e.includes("超时")?"创建用户请求超时，可能是网络连接不稳定。\n\n建议：检查网络连接后重试。":e.includes("cloud function")||e.includes("not found")?"云函数未找到或未正确部署。\n\n建议：请检查 createUsers 云函数是否已上传。":e.includes("permission")||e.includes("权限")?"数据库权限不足。\n\n建议：请检查云数据库访问权限配置。":e.includes("resource exhausted")||e.includes("繁忙")?"服务器资源繁忙。\n\n建议：请稍等片刻后重试。":"创建失败：".concat(t.message,"\n\n如问题持续存在，请联系技术支持。")},handleViewUsers:function(){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var n,r,c,d,l,f,p;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:if(s.log("=== 开始获取用户列表 ==="),uni.showLoading({title:"正在加载用户列表...",mask:!0}),a.prev=2,s.log("调用 getUserList 云函数..."),s.log("uniCloud 对象:","undefined"===typeof t?"undefined":(0,o.default)(t)),s.log("当前环境信息:"),s.log("- NODE_ENV:","production"),s.log("- VUE_APP_DEBUG:",Object({NODE_ENV:"production",VUE_APP_DARK_MODE:"false",VUE_APP_INDEX_CSS_HASH:"883130ca",VUE_APP_INDEX_DARK_CSS_HASH:"aeec55f8",VUE_APP_NAME:"ratingSystem",VUE_APP_PLATFORM:"h5",BASE_URL:"/rating-system-web/"}).VUE_APP_DEBUG),"undefined"!==typeof t){a.next=10;break}throw new Error("uniCloud 未定义，请检查 uniCloud 初始化");case 10:if("function"===typeof t.callFunction){a.next=12;break}throw new Error("uniCloud.callFunction 不是函数，请检查 uniCloud 版本");case 12:return s.log("开始调用云函数，参数:",{name:"getUserList",data:{},spaceType:"aliyun",timeout:15e3}),a.next=15,t.callFunction({name:"getUserList",data:{},spaceType:"aliyun",timeout:15e3});case 15:if(n=a.sent,uni.hideLoading(),s.log("=== 云函数调用完整结果 ==="),s.log("result:",JSON.stringify(n,null,2)),n){a.next=21;break}throw new Error("云函数调用返回 null");case 21:if(n.result){a.next=23;break}throw new Error("云函数返回结果中没有 result 字段");case 23:if(r=n.result,s.log("functionResult:",r),!r.success){a.next=35;break}if(c=r.data||[],s.log("成功获取用户数据:",c.length,"个用户"),0!==c.length){a.next=31;break}return uni.showModal({title:"数据库中暂无用户",content:'数据库 uni-id-users 表为空，需要先创建用户账号。\n\n请点击"重置用户列表"创建标准用户账号。',showCancel:!1,confirmText:"知道了"}),a.abrupt("return");case 31:e.userList=c,e.showUserModal=!0,a.next=39;break;case 35:d=r.message||"未知错误",l=r.errorCode||"UNKNOWN",s.error("云函数执行失败:",{errorMsg:d,errorCode:l}),uni.showModal({title:"获取用户列表失败",content:"云函数执行失败：".concat(d,"\n\n错误代码：").concat(l,"\n\n请检查：\n1. 云函数是否正确部署\n2. 数据库权限是否正确\n3. uni-id-users 表是否存在"),showCancel:!0,cancelText:"取消",confirmText:"重试",success:function(t){t.confirm&&e.handleViewUsers()}});case 39:a.next=52;break;case 41:a.prev=41,a.t0=a["catch"](2),uni.hideLoading(),s.error("=== 云函数调用异常 ==="),s.error("错误对象:",a.t0),s.error("错误消息:",a.t0.message),s.error("错误堆栈:",a.t0.stack),f="网络或系统错误",p="调用 getUserList 云函数失败。\n\n",a.t0.message?a.t0.message.includes("云函数")||a.t0.message.includes("cloud function")?(f="云函数错误",p+="错误：".concat(a.t0.message,"\n\n可能原因：\n1. getUserList 云函数未上传\n2. 云函数代码有问题\n3. 云服务配置错误")):a.t0.message.includes("timeout")?(f="请求超时",p+="请求超时，可能是网络连接不稳定。\n\n建议：检查网络连接后重试。"):a.t0.message.includes("permission")?(f="权限错误",p+="数据库权限不足。\n\n建议：检查云数据库权限配置。"):p+="具体错误：".concat(a.t0.message):p+="未知网络错误，请联系技术支持。",uni.showModal({title:f,content:p,showCancel:!0,cancelText:"取消",confirmText:"重试",success:function(t){t.confirm&&e.handleViewUsers()}});case 52:case"end":return a.stop()}}),a,null,[[2,41]])})))()},showUserListModal:function(t){this.userList=t,this.showUserModal=!0},closeUserModal:function(){this.showUserModal=!1,this.userList=[]},copyUserInfo:function(t){var e="".concat(t.username," / ").concat(t.password);try{navigator.clipboard?(navigator.clipboard.writeText(e),uni.showToast({title:"已复制",icon:"success"})):uni.showToast({title:"".concat(t.username," / ").concat(t.password),icon:"none",duration:3e3})}catch(a){uni.showToast({title:"".concat(t.username," / ").concat(t.password),icon:"none",duration:3e3})}},handleExportResults:function(){var e=this;return(0,c.default)((0,i.default)().mark((function a(){var n;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:return e.exporting=!0,a.prev=1,a.delegateYield((0,i.default)().mark((function a(){var n,r,o,c,d,l,f,p,u,x,g;return(0,i.default)().wrap((function(a){while(1)switch(a.prev=a.next){case 0:s.log("=== 开始导出评分结果 ==="),uni.showLoading({title:"正在导出评分结果...",mask:!0}),n=null,r=!1,o=0,c=3;case 6:if(r||!(o<c)){a.next=36;break}if(o++,s.log("第 ".concat(o," 次尝试导出评分数据...")),a.prev=9,e.userInfo&&e.userInfo._id){a.next=12;break}throw new Error("用户信息不完整，请重新登录");case 12:return s.log("导出用户信息:",e.userInfo),a.next=15,Promise.race([t.callFunction({name:"getWorks",data:{userId:e.userInfo._id,getAllWorks:e.isAdmin},spaceType:"aliyun"}),new Promise((function(t,e){return setTimeout((function(){return e(new Error("导出请求超时"))}),2e4)}))]);case 15:if(n=a.sent,!(n&&n.result&&n.result.success)){a.next=21;break}s.log("第 ".concat(o," 次导出调用成功")),r=!0,a.next=22;break;case 21:throw new Error((null===(d=n)||void 0===d||null===(l=d.result)||void 0===l?void 0:l.message)||"获取作品数据失败");case 22:a.next=34;break;case 24:if(a.prev=24,a.t0=a["catch"](9),s.error("第 ".concat(o," 次导出尝试失败:"),a.t0.message),!(o<c)){a.next=33;break}return a.next=30,new Promise((function(t){return setTimeout(t,1e3*o)}));case 30:uni.showLoading({title:"导出失败，第".concat(o+1,"次重试中..."),mask:!0}),a.next=34;break;case 33:throw a.t0;case 34:a.next=6;break;case 36:if(uni.hideLoading(),r&&n&&n.result&&n.result.success){a.next=39;break}throw new Error("所有导出尝试都失败了");case 39:if(f=n.result.data.works||[],s.log("获取到 ".concat(f.length," 个作品数据")),0!==f.length){a.next=44;break}return uni.showModal({title:"导出提示",content:"系统中暂无作品数据，无法导出评分结果。",showCancel:!1,confirmText:"知道了"}),a.abrupt("return",{v:void 0});case 44:if(s.log("开始格式化导出数据..."),p=e.formatExportData(f),0!==p.length){a.next=49;break}return uni.showModal({title:"导出提示",content:"作品数据格式化失败，可能是数据结构异常。",showCancel:!1,confirmText:"知道了"}),a.abrupt("return",{v:void 0});case 49:s.log("生成CSV内容..."),u=e.generateCSV(p),x=(new Date).toLocaleString("zh-CN").replace(/[\/\s:]/g,"-"),g="作品评分结果_".concat(x,".csv"),s.log("开始下载文件:",g),e.downloadCSV(u,g),e.showExportSuccessDialog(f.length,g),s.log("导出完成：".concat(f.length,"个作品，").concat(p.length,"行数据"));case 57:case"end":return a.stop()}}),a,null,[[9,24]])}))(),"t0",3);case 3:if(n=a.t0,"object"!==(0,o.default)(n)){a.next=6;break}return a.abrupt("return",n.v);case 6:a.next=13;break;case 8:a.prev=8,a.t1=a["catch"](1),uni.hideLoading(),s.error("导出评分结果失败:",a.t1),e.showExportError(a.t1);case 13:return a.prev=13,e.exporting=!1,a.finish(13);case 16:case"end":return a.stop()}}),a,null,[[1,8,13,16]])})))()},showExportError:function(t){var e=this,a="导出评分结果时发生错误。";if(t&&t.message){var s=t.message.toLowerCase();a=s.includes("timeout")||s.includes("超时")?"导出请求超时，可能是数据量较大或网络不稳定。\n\n建议：检查网络连接后重试。":s.includes("cloud function")||s.includes("not found")?"云函数未找到或未正确部署。\n\n建议：请检查 getWorks 云函数是否已上传。":s.includes("permission")||s.includes("权限")?"数据库权限不足。\n\n建议：请检查云数据库访问权限配置。":"导出失败：".concat(t.message,"\n\n如问题持续存在，请联系技术支持。")}uni.showModal({title:"导出失败",content:a,showCancel:!0,cancelText:"取消",confirmText:"重试",success:function(t){t.confirm&&e.handleExportResults()}})},showExportSuccessDialog:function(t,e){this.exportSuccessInfo={count:t,filename:e},this.showExportSuccessModal=!0},closeExportSuccessModal:function(){this.showExportSuccessModal=!1,this.exportSuccessInfo={count:0,filename:""}},formatExportData:function(t){s.log("开始格式化导出数据..."),s.log("接收到的作品数据:",t);var e=[];return t&&Array.isArray(t)?(t.forEach((function(t,a){try{s.log("处理第".concat(a+1,"个作品:"),t.work_id||t._id);var n={"作品ID":t.work_id||t._id||"","作品标题":t.title||"未命名作品","作品描述":t.description||"","作品组别":t.group||"","作品状态":t.status||"","创建时间":t.create_time?new Date(t.create_time).toLocaleString("zh-CN"):"","更新时间":t.update_time?new Date(t.update_time).toLocaleString("zh-CN"):""};if(t.expert_scores&&Array.isArray(t.expert_scores)){var o=t.expert_scores.filter((function(t){return void 0!==t.isAdvertisement&&null!==t.isAdvertisement})).map((function(t){return t.isAdvertisement}));if(o.length>0){var i=o.filter((function(t){return!0===t})).length,c=o.filter((function(t){return!1===t})).length;n["广告检测_总检测数"]=o.length,n["广告检测_标记为广告数"]=i,n["广告检测_标记为非广告数"]=c,n["广告检测_广告比例"]="".concat(Math.round(i/o.length*100),"%"),n["广告检测_是否为广告"]=i>c?"是":"否"}else n["广告检测_总检测数"]=0,n["广告检测_标记为广告数"]=0,n["广告检测_标记为非广告数"]=0,n["广告检测_广告比例"]="暂无检测",n["广告检测_是否为广告"]="暂无检测"}else n["广告检测_总检测数"]=0,n["广告检测_标记为广告数"]=0,n["广告检测_标记为非广告数"]=0,n["广告检测_广告比例"]="暂无检测",n["广告检测_是否为广告"]="暂无检测";if(t.expert_scores&&Array.isArray(t.expert_scores)){var d={content:"基础分",science:"科学性",audience:"大众性",authenticity:"真实性",creativity:"创新性",trend:"典型性",promotion:"推广性"};["content","science","audience","authenticity","creativity","trend","promotion"].forEach((function(e){var a=t.expert_scores.map((function(t){return t.scores&&t.scores[e]})).filter((function(t){return null!==t&&void 0!==t&&!isNaN(t)}));if(a.length>0){var s=a.reduce((function(t,e){return t+parseFloat(e)}),0)/a.length;n["".concat(d[e],"_平均分")]=Math.round(10*s)/10,n["".concat(d[e],"_评分次数")]=a.length}else n["".concat(d[e],"_平均分")]="暂无评分",n["".concat(d[e],"_评分次数")]=0}));var l=t.expert_scores.map((function(t){return t.total_score})).filter((function(t){return null!==t&&void 0!==t&&!isNaN(t)&&t>0}));if(l.length>0){var f=l.reduce((function(t,e){return t+e}),0)/l.length;n["总分_平均分"]=Math.round(10*f)/10,n["总分_最高分"]=Math.max.apply(Math,(0,r.default)(l)),n["总分_最低分"]=Math.min.apply(Math,(0,r.default)(l))}else n["总分_平均分"]="暂无评分",n["总分_最高分"]="暂无评分",n["总分_最低分"]="暂无评分";n["评分专家数量"]=t.expert_scores.length,n["评分专家列表"]=t.expert_scores.map((function(t){return t.expert_name||t.expert_id||"未知专家"})).join(", "),t.average_scores&&(n["系统计算_基础分平均分"]=t.average_scores.content||"暂无",n["系统计算_科学性平均分"]=t.average_scores.science||"暂无",n["系统计算_大众性平均分"]=t.average_scores.audience||"暂无",n["系统计算_真实性平均分"]=t.average_scores.authenticity||"暂无",n["系统计算_创新性平均分"]=t.average_scores.creativity||"暂无",n["系统计算_典型性平均分"]=t.average_scores.trend||"暂无",n["系统计算_推广性平均分"]=t.average_scores.promotion||"暂无",n["系统计算_总平均分"]=t.average_scores.total||"暂无")}else n["广告检测_总检测数"]=0,n["广告检测_标记为广告数"]=0,n["广告检测_标记为非广告数"]=0,n["广告检测_广告比例"]="暂无检测",n["广告检测_是否为广告"]="暂无检测",n["基础分_平均分"]="暂无评分",n["基础分_评分次数"]=0,n["科学性_平均分"]="暂无评分",n["科学性_评分次数"]=0,n["大众性_平均分"]="暂无评分",n["大众性_评分次数"]=0,n["真实性_平均分"]="暂无评分",n["真实性_评分次数"]=0,n["创新性_平均分"]="暂无评分",n["创新性_评分次数"]=0,n["典型性_平均分"]="暂无评分",n["典型性_评分次数"]=0,n["推广性_平均分"]="暂无评分",n["推广性_评分次数"]=0,n["总分_平均分"]="暂无评分",n["总分_最高分"]="暂无评分",n["总分_最低分"]="暂无评分",n["评分专家数量"]=0,n["评分专家列表"]="暂无评分";e.push(n)}catch(p){s.error("处理第".concat(a+1,"个作品时出错:"),p),s.error("问题作品数据:",t)}})),s.log("格式化完成，共处理",e.length,"个作品"),e):(s.warn("作品数据为空或格式不正确"),e)},generateCSV:function(t){try{if(s.log("开始生成CSV内容，数据行数:",(null===t||void 0===t?void 0:t.length)||0),!t||0===t.length)return'作品ID,作品标题,备注\n,,"暂无数据"';var e=Object.keys(t[0]);s.log("CSV列数:",e.length),s.log("CSV列名:",e.slice(0,10));var a=e.map((function(t){return'"'.concat(t,'"')})).join(",")+"\n";return t.forEach((function(t,n){try{var r=e.map((function(e){var a=t[e];if(null===a||void 0===a)return'""';var s=String(a);return s.includes(",")||s.includes('"')||s.includes("\n")?'"'.concat(s.replace(/"/g,'""'),'"'):'"'.concat(s,'"')}));a+=r.join(",")+"\n"}catch(o){s.error("处理第".concat(n+1,"行数据时出错:"),o),s.error("问题行数据:",t)}})),s.log("CSV内容生成完成，总字符数:",a.length),a}catch(n){throw s.error("生成CSV内容失败:",n),new Error("CSV内容生成失败: "+n.message)}},downloadCSV:function(t,e){try{if(s.log("开始下载CSV文件:",e),s.log("CSV内容长度:",(null===t||void 0===t?void 0:t.length)||0),!t)throw new Error("CSV内容为空");var a="\ufeff"+t,n=new Blob([a],{type:"text/csv;charset=utf-8;"});if(s.log("Blob创建成功，大小:",n.size,"bytes"),!window.URL||!window.URL.createObjectURL)throw new Error("浏览器不支持文件下载功能");var r=document.createElement("a"),o=URL.createObjectURL(n);r.setAttribute("href",o),r.setAttribute("download",e),r.style.visibility="hidden",document.body.appendChild(r),r.click(),document.body.removeChild(r),setTimeout((function(){URL.revokeObjectURL(o)}),1e3),s.log("CSV文件下载完成:",e),uni.showToast({title:"文件下载成功",icon:"success",duration:2e3})}catch(i){throw s.error("下载CSV文件失败:",i),uni.showToast({title:"文件下载失败: ".concat(i.message),icon:"none",duration:3e3}),i}},removeActionSheet:function(){setTimeout((function(){var t=document.querySelectorAll(".uni-actionsheet, .uni-actionsheet__menu, .uni-actionsheet__action");t&&t.length>0&&t.forEach((function(t){t&&t.parentNode&&t.parentNode.removeChild(t)}));var e=document.querySelectorAll(".uni-actionsheet__cell");e&&e.length>0&&e.forEach((function(t){t&&"取消"===t.textContent&&t.parentNode&&t.parentNode.removeChild(t)}))}),100)}}};e.default=d}).call(this,a("861b")["uniCloud"],a("ba7c")["default"])},"22e4":function(t,e,a){"use strict";a.r(e);var s=a("1236"),n=a.n(s);for(var r in s)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return s[t]}))}(r);e["default"]=n.a},ba78:function(t,e,a){"use strict";a.d(e,"b",(function(){return s})),a.d(e,"c",(function(){return n})),a.d(e,"a",(function(){}));var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"profile-container"},[t._m(0),a("div",{staticClass:"welcome-card"},[a("div",{staticClass:"welcome-content"},[a("div",{staticClass:"user-avatar"},[t._v(t._s(t.userInitial))]),a("div",{staticClass:"welcome-text"},[a("p",{staticClass:"welcome-title"},[t._v("欢迎，"+t._s(t.userInfo.name||"用户"))]),a("p",{staticClass:"welcome-dept"},[t._v(t._s(t.userInfo.department||""))])])]),a("v-uni-button",{staticClass:"logout-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleLogout.apply(void 0,arguments)}}},[t._v("退出")])],1),t.isAdmin?t._e():a("div",{staticClass:"stats-grid"},[a("div",{staticClass:"stat-card total-card"},[a("div",{staticClass:"stat-icon"},[t._v("📋")]),a("div",{staticClass:"stat-content"},[t.statsLoading?a("p",{staticClass:"stat-number loading"},[t._v("--")]):a("p",{staticClass:"stat-number total"},[t._v(t._s(t.stats.totalWorks))]),a("p",{staticClass:"stat-label"},[t._v("总作品数")])])]),a("div",{staticClass:"stat-card rated-card"},[a("div",{staticClass:"stat-icon"},[t._v("✅")]),a("div",{staticClass:"stat-content"},[t.statsLoading?a("p",{staticClass:"stat-number loading"},[t._v("--")]):a("p",{staticClass:"stat-number rated"},[t._v(t._s(t.stats.ratedWorks))]),a("p",{staticClass:"stat-label"},[t._v("已评分")])])]),a("div",{staticClass:"stat-card pending-card"},[a("div",{staticClass:"stat-icon"},[t._v("⏳")]),a("div",{staticClass:"stat-content"},[t.statsLoading?a("p",{staticClass:"stat-number loading"},[t._v("--")]):a("p",{staticClass:"stat-number pending"},[t._v(t._s(t.stats.pendingWorks))]),a("p",{staticClass:"stat-label"},[t._v("待评分")])])]),a("div",{staticClass:"stat-card completion-card"},[a("div",{staticClass:"stat-icon"},[t._v("🎯")]),a("div",{staticClass:"stat-content"},[t.statsLoading?a("p",{staticClass:"stat-number loading"},[t._v("--%")]):a("p",{staticClass:"stat-number completion"},[t._v(t._s(t.stats.completionRate)+"%")]),a("p",{staticClass:"stat-label"},[t._v("完成度")])])])]),t.isAdmin?t._e():a("div",{staticClass:"progress-card"},[a("div",{staticClass:"progress-header"},[a("p",{staticClass:"progress-title"},[t._v("📊 评分进度")]),t.statsLoading?t._e():a("v-uni-button",{staticClass:"refresh-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.loadUserStats.apply(void 0,arguments)}}},[t._v("🔄")])],1),t.statsLoading?a("div",{staticClass:"progress-bar loading-bar"},[a("div",{staticClass:"progress-loading"})]):a("div",{staticClass:"progress-bar"},[a("div",{staticClass:"progress-fill",class:{"progress-low":t.stats.completionRate<30,"progress-medium":t.stats.completionRate>=30&&t.stats.completionRate<80,"progress-high":t.stats.completionRate>=80},style:{width:t.stats.completionRate+"%"}}),a("div",{staticClass:"progress-text-overlay"},[t._v(t._s(t.stats.completionRate)+"%")])]),a("div",{staticClass:"progress-info"},[t.statsLoading?a("p",{staticClass:"progress-text loading-text"},[t._v("正在加载统计数据...")]):a("p",{staticClass:"progress-text"},[t._v("已完成"),a("span",{staticClass:"highlight"},[t._v(t._s(t.stats.ratedWorks))]),t._v("/ "+t._s(t.stats.totalWorks)+" 个作品")]),!t.statsLoading&&t.stats.pendingWorks>0?a("div",{staticClass:"progress-encouragement"},[a("span",{staticClass:"encouragement-icon"},[t._v("💪")]),a("span",{staticClass:"encouragement-text"},[t._v("还有 "+t._s(t.stats.pendingWorks)+" 个作品待评分，加油！")])]):!t.statsLoading&&t.stats.totalWorks>0&&0===t.stats.pendingWorks?a("div",{staticClass:"progress-completed"},[a("span",{staticClass:"completed-icon"},[t._v("🎉")]),a("span",{staticClass:"completed-text"},[t._v("太棒了！您已完成所有作品的评分")])]):t._e()])]),t.isAdmin?a("div",{staticClass:"admin-welcome"},[a("div",{staticClass:"welcome-icon"},[t._v("🔧")]),a("h2",{staticClass:"welcome-message"},[t._v("欢迎使用管理员控制台")]),a("p",{staticClass:"welcome-description"},[t._v("在这里您可以管理评分系统的用户账号")])]):t._e(),t.isAdmin?a("div",{staticClass:"admin-section"},[a("h3",{staticClass:"admin-title"},[t._v("管理员操作")]),a("div",{staticClass:"admin-buttons"},[a("v-uni-button",{staticClass:"admin-btn create-users",attrs:{disabled:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleCreateUsers.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("👥")]),t._v(t._s(t.loading?"重置中...":"重置用户列表"))]),a("v-uni-button",{staticClass:"admin-btn assign-works",attrs:{disabled:t.assigning},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleAssignWorks.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("🎯")]),t._v(t._s(t.assigning?"分配中...":"一键分配作品"))]),a("v-uni-button",{staticClass:"admin-btn export-results",attrs:{disabled:t.exporting},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.handleExportResults.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("📊")]),t._v(t._s(t.exporting?"导出中...":"导出评分结果"))])],1)]):t._e(),t.isAdmin?t._e():a("div",{staticClass:"action-section"},[a("v-uni-button",{staticClass:"action-btn primary",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.goToWorks.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("📋")]),t._v("开始评分")])],1),t.showUserModal?a("div",{staticClass:"user-modal-overlay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeUserModal.apply(void 0,arguments)}}},[a("div",{staticClass:"user-modal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title"},[t._v("用户账号密码列表")]),a("v-uni-button",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeUserModal.apply(void 0,arguments)}}},[t._v("×")])],1),a("div",{staticClass:"modal-body"},[a("div",{staticClass:"user-count"},[t._v("共 "+t._s(t.userList.length)+" 个用户")]),a("div",{staticClass:"user-list-container"},t._l(t.userList,(function(e,s){return a("div",{key:e.username,staticClass:"user-item",on:{click:function(a){arguments[0]=a=t.$handleEvent(a),t.copyUserInfo(e)}}},[a("div",{staticClass:"user-index"},[t._v(t._s(s+1))]),a("div",{staticClass:"user-info"},[a("div",{staticClass:"user-row"},[a("span",{staticClass:"label"},[t._v("账号:")]),a("span",{staticClass:"value"},[t._v(t._s(e.username))])]),a("div",{staticClass:"user-row"},[a("span",{staticClass:"label"},[t._v("密码:")]),a("span",{staticClass:"value"},[t._v(t._s(e.password))])])]),a("div",{staticClass:"user-role",class:{admin:"admin"===e.role,leader:"leader"===e.role,expert:"expert"===e.role}},[t._v(t._s(t.getRoleName(e.role)))])])})),0)]),a("div",{staticClass:"modal-footer"},[a("div",{staticClass:"tip"},[t._v("点击用户可复制账号密码")]),a("v-uni-button",{staticClass:"confirm-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeUserModal.apply(void 0,arguments)}}},[t._v("确定")])],1)])]):t._e(),t.showResetUsersModal?a("div",{staticClass:"reset-users-modal-overlay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeResetUsersModal.apply(void 0,arguments)}}},[a("div",{staticClass:"reset-users-modal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("div",{staticClass:"reset-modal-header"},[t._m(1),a("h3",{staticClass:"reset-modal-title"},[t._v("重置用户列表")]),a("p",{staticClass:"reset-modal-subtitle"},[t._v("此操作将完全重新创建用户账号")]),a("v-uni-button",{staticClass:"reset-close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeResetUsersModal.apply(void 0,arguments)}}},[t._v("×")])],1),t._m(2),a("div",{staticClass:"reset-modal-footer"},[a("v-uni-button",{staticClass:"reset-cancel-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeResetUsersModal.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("❌")]),a("span",[t._v("取消")])]),a("v-uni-button",{staticClass:"reset-confirm-btn",attrs:{disabled:t.loading},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmResetUsers.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v(t._s(t.loading?"⏳":"🔄"))]),a("span",[t._v(t._s(t.loading?"重置中...":"确认重置"))])])],1)])]):t._e(),t.showAssignModal?a("div",{staticClass:"custom-modal-overlay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAssignModal.apply(void 0,arguments)}}},[a("div",{staticClass:"custom-modal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[a("div",{staticClass:"modal-header"},[a("h3",{staticClass:"modal-title"},[t._v("🎯 一键分配作品")]),a("v-uni-button",{staticClass:"close-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAssignModal.apply(void 0,arguments)}}},[t._v("×")])],1),t._m(3),a("div",{staticClass:"modal-footer"},[a("v-uni-button",{staticClass:"cancel-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeAssignModal.apply(void 0,arguments)}}},[t._v("取消")]),a("v-uni-button",{staticClass:"confirm-btn",attrs:{disabled:t.assigning},on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.confirmAssign.apply(void 0,arguments)}}},[t._v(t._s(t.assigning?"分配中...":"确认分配"))])],1)])]):t._e(),t.showSuccessModal?a("div",{staticClass:"success-modal-overlay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSuccessModal.apply(void 0,arguments)}}},[a("div",{staticClass:"success-modal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._m(4),a("div",{staticClass:"success-body"},[a("div",{staticClass:"result-grid"},[a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("总作品数")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.totalWorks||0))])]),a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("分配任务数")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.totalAssignments||0))])]),a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("领导任务")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.specialAssignments||0))])]),a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("专家任务")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.expertAssignments||0))])]),a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("专家数量")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.expertCount||0))])]),a("div",{staticClass:"result-item"},[a("span",{staticClass:"result-label"},[t._v("平均任务数")]),a("span",{staticClass:"result-value"},[t._v(t._s(t.assignResult&&t.assignResult.avgWorks||0))])])]),a("div",{staticClass:"success-summary"},[a("p",{staticClass:"summary-text"},[a("span",{staticClass:"highlight"},[t._v(t._s(t.assignResult&&t.assignResult.expertCount||0)+"位专家")]),t._v("共分配到"),a("span",{staticClass:"highlight"},[t._v(t._s(t.assignResult&&t.assignResult.expertAssignments||0)+"个任务")]),t._v("，\n            平均每人"),a("span",{staticClass:"highlight"},[t._v(t._s(t.assignResult&&t.assignResult.avgWorks||0)+"个作品")])])])]),a("div",{staticClass:"success-footer"},[a("v-uni-button",{staticClass:"success-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeSuccessModal.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("🎉")]),a("span",[t._v("太棒了！")])])],1)])]):t._e(),t.showExportSuccessModal?a("div",{staticClass:"export-success-modal-overlay",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeExportSuccessModal.apply(void 0,arguments)}}},[a("div",{staticClass:"export-success-modal",on:{click:function(e){e.stopPropagation(),arguments[0]=e=t.$handleEvent(e)}}},[t._m(5),a("div",{staticClass:"export-success-body"},[a("div",{staticClass:"export-info-grid"},[a("div",{staticClass:"export-info-item"},[a("span",{staticClass:"export-info-label"},[t._v("作品数量")]),a("span",{staticClass:"export-info-value"},[t._v(t._s(t.exportSuccessInfo.count))])]),a("div",{staticClass:"export-info-item"},[a("span",{staticClass:"export-info-label"},[t._v("文件名")]),a("span",{staticClass:"export-info-value"},[t._v(t._s(t.exportSuccessInfo.filename))])])]),a("div",{staticClass:"export-success-summary"},[a("p",{staticClass:"export-summary-text"},[t._v("已成功导出"),a("span",{staticClass:"highlight"},[t._v(t._s(t.exportSuccessInfo.count))]),t._v("个作品的评分结果")])])]),a("div",{staticClass:"export-success-footer"},[a("v-uni-button",{staticClass:"export-success-btn",on:{click:function(e){arguments[0]=e=t.$handleEvent(e),t.closeExportSuccessModal.apply(void 0,arguments)}}},[a("span",{staticClass:"btn-icon"},[t._v("🎉")]),a("span",[t._v("确定")])])],1)])]):t._e()])},n=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"custom-header"},[e("div",{staticClass:"header-content"},[e("h1",{staticClass:"header-title"},[this._v("个人中心")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"reset-header-icon"},[e("span",{staticClass:"reset-icon"},[this._v("🔄")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"reset-modal-body"},[a("div",{staticClass:"reset-info-section"},[a("h4",{staticClass:"reset-section-title"},[t._v("将要执行的操作：")]),a("div",{staticClass:"reset-action-item"},[a("span",{staticClass:"reset-action-icon"},[t._v("🗑️")]),a("span",{staticClass:"reset-action-text"},[t._v("清空现有用户数据")])]),a("div",{staticClass:"reset-action-item"},[a("span",{staticClass:"reset-action-icon"},[t._v("👥")]),a("div",{staticClass:"reset-action-content"},[a("span",{staticClass:"reset-action-text"},[t._v("创建 14 个固定专家账号：")]),a("div",{staticClass:"expert-list"},[t._v("jihong, zhangwenjing, chenliang, sunlin, wuyuguo, liujunni, rongningning, hourui, sunyan, liupeiqiang, nilinlin, zhanghui, wangwenfei, zhangleilei")])])]),a("div",{staticClass:"reset-action-item"},[a("span",{staticClass:"reset-action-icon"},[t._v("👨‍💼")]),a("span",{staticClass:"reset-action-text"},[t._v("创建 1 个固定领导账号 (wsbjxh)")])]),a("div",{staticClass:"reset-action-item"},[a("span",{staticClass:"reset-action-icon"},[t._v("🔐")]),a("span",{staticClass:"reset-action-text"},[t._v("自动生成账号密码")])])]),a("div",{staticClass:"reset-warning-section"},[a("div",{staticClass:"reset-warning-item"},[a("span",{staticClass:"reset-warning-icon"},[t._v("⚠️")]),a("div",{staticClass:"reset-warning-content"},[a("p",{staticClass:"reset-warning-title"},[t._v("重要提醒")]),a("p",{staticClass:"reset-warning-text"},[t._v("此操作不可撤销，原有用户数据将被永久删除")])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"modal-body"},[a("div",{staticClass:"rule-item"},[a("span",{staticClass:"rule-icon"},[t._v("📋")]),a("span",{staticClass:"rule-text"},[t._v("ID 399,400 分配给领导账号")])]),a("div",{staticClass:"rule-item"},[a("span",{staticClass:"rule-icon"},[t._v("👥")]),a("span",{staticClass:"rule-text"},[t._v("剩余作品平均分配给14位专家")])]),a("div",{staticClass:"rule-item"},[a("span",{staticClass:"rule-icon"},[t._v("✅")]),a("span",{staticClass:"rule-text"},[t._v("每个作品固定3个专家评分")])]),a("div",{staticClass:"rule-item"},[a("span",{staticClass:"rule-icon"},[t._v("⚖️")]),a("span",{staticClass:"rule-text"},[t._v("自动均衡分配负载")])]),a("div",{staticClass:"warning-item"},[a("span",{staticClass:"warning-icon"},[t._v("⚠️")]),a("span",{staticClass:"warning-text"},[t._v("此操作会清空现有分配记录")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"success-header"},[e("div",{staticClass:"success-icon"},[e("span",{staticClass:"checkmark"},[this._v("✓")])]),e("h3",{staticClass:"success-title"},[this._v("分配完成")]),e("p",{staticClass:"success-subtitle"},[this._v("作品已成功分配给所有专家")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"export-success-header"},[e("div",{staticClass:"export-success-icon"},[e("span",{staticClass:"checkmark"},[this._v("✓")])]),e("h3",{staticClass:"export-success-title"},[this._v("导出成功")]),e("p",{staticClass:"export-success-subtitle"},[this._v("评分结果已成功导出")])])}]},c19f:function(t,e,a){var s=a("c881");s.__esModule&&(s=s.default),"string"===typeof s&&(s=[[t.i,s,""]]),s.locals&&(t.exports=s.locals);var n=a("967d").default;n("4fa04c49",s,!0,{sourceMap:!1,shadowMode:!1})},c881:function(t,e,a){var s=a("c86c");e=s(!1),e.push([t.i,'*[data-v-67e41c1f]{margin:0;padding:0;box-sizing:border-box}.profile-container[data-v-67e41c1f]{padding:0 16px 16px 16px;min-height:100vh;background-color:#f8fafc;max-width:1200px;margin:0 auto}\n\n/* 自定义标题栏 */.custom-header[data-v-67e41c1f]{background:linear-gradient(135deg,#4568dc,#b06ab3);color:#fff;padding:16px 16px 16px 16px;position:-webkit-sticky;position:sticky;top:0;z-index:100;margin:0 -16px 16px -16px;margin-bottom:24px}.header-content[data-v-67e41c1f]{max-width:1200px;margin:0 auto;padding:0 16px;display:flex;align-items:center;justify-content:center;height:44px}.header-title[data-v-67e41c1f]{font-size:18px;font-weight:600;text-align:center}.welcome-card[data-v-67e41c1f]{background:linear-gradient(135deg,#4568dc,#b06ab3);color:#fff;border-radius:16px;padding:24px;margin-bottom:24px;display:flex;align-items:center;justify-content:space-between;box-shadow:0 10px 30px rgba(69,104,220,.15)}.welcome-content[data-v-67e41c1f]{display:flex;align-items:center;flex:1}.user-avatar[data-v-67e41c1f]{width:60px;height:60px;border-radius:50%;background:hsla(0,0%,100%,.2);color:#fff;display:flex;align-items:center;justify-content:center;font-size:24px;font-weight:600;margin-right:16px;border:2px solid hsla(0,0%,100%,.3);box-shadow:0 5px 15px rgba(0,0,0,.1)}.welcome-text[data-v-67e41c1f]{flex:1}.welcome-title[data-v-67e41c1f]{font-size:20px;font-weight:600;margin-bottom:4px;display:block}.welcome-dept[data-v-67e41c1f]{font-size:14px;opacity:.9;display:block}.logout-btn[data-v-67e41c1f]{background:hsla(0,0%,100%,.2);border:1px solid hsla(0,0%,100%,.3);color:#fff;padding:8px 16px;border-radius:8px;font-size:14px;cursor:pointer;transition:all .3s ease}.logout-btn[data-v-67e41c1f]:hover{background:hsla(0,0%,100%,.3)}.stats-grid[data-v-67e41c1f]{display:flex;flex-wrap:wrap;gap:16px;margin-bottom:24px}.stat-card[data-v-67e41c1f]{width:calc(50% - 8px);flex-shrink:0;background:#fff;border-radius:16px;padding:16px;display:flex;align-items:center;gap:12px;box-shadow:0 5px 15px rgba(0,0,0,.05);transition:box-shadow .3s ease,-webkit-transform .3s ease;transition:transform .3s ease,box-shadow .3s ease;transition:transform .3s ease,box-shadow .3s ease,-webkit-transform .3s ease;border:2px solid transparent}.stat-card[data-v-67e41c1f]:hover{-webkit-transform:translateY(-3px);transform:translateY(-3px);box-shadow:0 8px 25px rgba(0,0,0,.1)}\n\n/* 统计卡片图标 */.stat-icon[data-v-67e41c1f]{font-size:24px;width:48px;height:48px;display:flex;align-items:center;justify-content:center;border-radius:12px;background:rgba(99,102,241,.1);flex-shrink:0}.stat-content[data-v-67e41c1f]{flex:1;text-align:left}\n\n/* 不同类型卡片的颜色 */.total-card[data-v-67e41c1f]{border-color:rgba(99,102,241,.2)}.total-card .stat-icon[data-v-67e41c1f]{background:rgba(99,102,241,.1)}.rated-card[data-v-67e41c1f]{border-color:rgba(34,197,94,.2)}.rated-card .stat-icon[data-v-67e41c1f]{background:rgba(34,197,94,.1)}.pending-card[data-v-67e41c1f]{border-color:rgba(245,158,11,.2)}.pending-card .stat-icon[data-v-67e41c1f]{background:rgba(245,158,11,.1)}.completion-card[data-v-67e41c1f]{border-color:rgba(168,85,247,.2)}.completion-card .stat-icon[data-v-67e41c1f]{background:rgba(168,85,247,.1)}.stat-number[data-v-67e41c1f]{font-size:28px;font-weight:700;margin-bottom:4px;display:block;line-height:1}.stat-number.total[data-v-67e41c1f]{color:#6366f1}.stat-number.rated[data-v-67e41c1f]{color:#22c55e}.stat-number.pending[data-v-67e41c1f]{color:#f59e0b}.stat-number.completion[data-v-67e41c1f]{color:#a855f7}.stat-number.loading[data-v-67e41c1f]{color:#94a3b8;-webkit-animation:pulse-data-v-67e41c1f 1.5s ease-in-out infinite;animation:pulse-data-v-67e41c1f 1.5s ease-in-out infinite}.stat-label[data-v-67e41c1f]{font-size:12px;color:#64748b;font-weight:500;display:block;margin:0}@-webkit-keyframes pulse-data-v-67e41c1f{0%, 100%{opacity:1}50%{opacity:.5}}@keyframes pulse-data-v-67e41c1f{0%, 100%{opacity:1}50%{opacity:.5}}.progress-card[data-v-67e41c1f]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 5px 15px rgba(0,0,0,.05);border:2px solid rgba(99,102,241,.1)}.progress-header[data-v-67e41c1f]{display:flex;justify-content:space-between;align-items:center;margin-bottom:16px}.progress-title[data-v-67e41c1f]{font-size:18px;font-weight:600;color:#1e293b;margin:0;display:flex;align-items:center;gap:8px}.refresh-btn[data-v-67e41c1f]{background:rgba(99,102,241,.1);border:none;border-radius:8px;width:32px;height:32px;display:flex;align-items:center;justify-content:center;cursor:pointer;transition:all .3s ease;font-size:14px}.refresh-btn[data-v-67e41c1f]:hover{background:rgba(99,102,241,.2);-webkit-transform:rotate(180deg);transform:rotate(180deg)}.progress-bar[data-v-67e41c1f]{width:100%;height:24px;background-color:#f1f5f9;border-radius:12px;overflow:hidden;margin-bottom:16px;position:relative}.progress-fill[data-v-67e41c1f]{height:100%;border-radius:12px;transition:width .6s ease;position:relative}.progress-low[data-v-67e41c1f]{background:linear-gradient(90deg,#ef4444,#f97316)}.progress-medium[data-v-67e41c1f]{background:linear-gradient(90deg,#f59e0b,#eab308)}.progress-high[data-v-67e41c1f]{background:linear-gradient(90deg,#22c55e,#16a34a)}.progress-text-overlay[data-v-67e41c1f]{position:absolute;top:50%;left:50%;-webkit-transform:translate(-50%,-50%);transform:translate(-50%,-50%);font-size:12px;font-weight:600;color:#fff;text-shadow:0 1px 2px rgba(0,0,0,.3)}.loading-bar[data-v-67e41c1f]{background:#f1f5f9}.progress-loading[data-v-67e41c1f]{height:100%;background:linear-gradient(90deg,#e2e8f0,#cbd5e1 50%,#e2e8f0);background-size:200% 100%;-webkit-animation:loading-data-v-67e41c1f 1.5s ease-in-out infinite;animation:loading-data-v-67e41c1f 1.5s ease-in-out infinite;border-radius:12px}@-webkit-keyframes loading-data-v-67e41c1f{0%{background-position:200% 0}100%{background-position:-200% 0}}@keyframes loading-data-v-67e41c1f{0%{background-position:200% 0}100%{background-position:-200% 0}}.progress-info[data-v-67e41c1f]{margin-top:16px}.progress-text[data-v-67e41c1f]{font-size:14px;color:#64748b;text-align:center;display:block;margin-bottom:12px}.progress-text .highlight[data-v-67e41c1f]{color:#6366f1;font-weight:600}.loading-text[data-v-67e41c1f]{color:#94a3b8;font-style:italic}.progress-encouragement[data-v-67e41c1f],\n.progress-completed[data-v-67e41c1f]{display:flex;align-items:center;justify-content:center;gap:8px;padding:12px 16px;border-radius:8px;font-size:13px}.progress-encouragement[data-v-67e41c1f]{background:rgba(245,158,11,.1);border:1px solid rgba(245,158,11,.2);color:#d97706}.progress-completed[data-v-67e41c1f]{background:rgba(34,197,94,.1);border:1px solid rgba(34,197,94,.2);color:#16a34a}.encouragement-text[data-v-67e41c1f],\n.completed-text[data-v-67e41c1f]{font-weight:500}\n\n/* 管理员欢迎区域 */.admin-welcome[data-v-67e41c1f]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border-radius:16px;padding:32px 24px;margin-bottom:24px;text-align:center;box-shadow:0 10px 30px rgba(102,126,234,.15)}.welcome-icon[data-v-67e41c1f]{font-size:48px;margin-bottom:16px;display:block}.welcome-message[data-v-67e41c1f]{font-size:24px;font-weight:600;margin:0 0 8px 0;color:#fff}.welcome-description[data-v-67e41c1f]{font-size:16px;margin:0;opacity:.9;color:#fff}\n\n/* 管理员操作区域 */.admin-section[data-v-67e41c1f]{background:#fff;border-radius:16px;padding:24px;margin-bottom:24px;box-shadow:0 5px 15px rgba(0,0,0,.05);border:2px solid #fbbf24}.admin-title[data-v-67e41c1f]{font-size:18px;font-weight:600;color:#92400e;margin-bottom:16px;text-align:center;display:flex;align-items:center;justify-content:center}.admin-title[data-v-67e41c1f]::before{content:"🔐";margin-right:8px}.admin-buttons[data-v-67e41c1f]{display:flex;flex-direction:column;gap:12px}.admin-btn[data-v-67e41c1f]{display:flex;align-items:center;justify-content:center;padding:14px 20px;border:none;border-radius:12px;font-size:15px;font-weight:600;cursor:pointer;transition:all .3s ease;min-height:48px}.admin-btn .btn-icon[data-v-67e41c1f]{margin-right:8px;font-size:16px}.admin-btn.create-users[data-v-67e41c1f]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 4px 15px rgba(245,158,11,.3)}.admin-btn.create-users[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 6px 20px rgba(245,158,11,.4)}.admin-btn.create-users[data-v-67e41c1f]:disabled{opacity:.6;cursor:not-allowed;-webkit-transform:none;transform:none}.admin-btn.view-users[data-v-67e41c1f]{background:linear-gradient(135deg,#06b6d4,#0891b2);color:#fff;box-shadow:0 4px 15px rgba(6,182,212,.3)}.admin-btn.view-users[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 6px 20px rgba(6,182,212,.4)}.admin-btn.works-manage[data-v-67e41c1f]{background:linear-gradient(135deg,#f97316,#ea580c);color:#fff;box-shadow:0 4px 15px rgba(249,115,22,.3)}.admin-btn.works-manage[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 6px 20px rgba(249,115,22,.4)}.admin-btn.assign-works[data-v-67e41c1f]{background:linear-gradient(135deg,#48cae4,#023e8a);color:#fff;box-shadow:0 4px 15px rgba(72,202,228,.3)}.admin-btn.assign-works[data-v-67e41c1f]:hover:not(:disabled){-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 6px 20px rgba(72,202,228,.4)}.admin-btn.assign-works[data-v-67e41c1f]:disabled{background:#6c757d;cursor:not-allowed;-webkit-transform:none;transform:none;box-shadow:none}.admin-btn.export-results[data-v-67e41c1f]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;box-shadow:0 4px 15px rgba(16,185,129,.3)}.admin-btn.export-results[data-v-67e41c1f]:hover:not(:disabled){-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 6px 20px rgba(16,185,129,.4)}.admin-btn.export-results[data-v-67e41c1f]:disabled{background:#6c757d;cursor:not-allowed;-webkit-transform:none;transform:none;box-shadow:none}.action-section[data-v-67e41c1f]{text-align:center;margin-top:32px}.action-btn[data-v-67e41c1f]{display:inline-flex;align-items:center;justify-content:center;padding:16px 32px;border:none;border-radius:12px;font-size:16px;font-weight:600;min-width:160px;cursor:pointer;transition:all .3s ease}.action-btn.primary[data-v-67e41c1f]{background:linear-gradient(135deg,#4568dc,#b06ab3);color:#fff;box-shadow:0 8px 25px rgba(69,104,220,.25)}.action-btn.primary[data-v-67e41c1f]:hover{-webkit-transform:translateY(-3px);transform:translateY(-3px);box-shadow:0 12px 30px rgba(69,104,220,.35)}.btn-icon[data-v-67e41c1f]{margin-right:8px;font-size:18px}\n\n/* 响应式设计 */@media (min-width:768px){.profile-container[data-v-67e41c1f]{padding:24px}.welcome-card[data-v-67e41c1f]{padding:32px}.user-avatar[data-v-67e41c1f]{width:80px;height:80px;font-size:32px}.welcome-title[data-v-67e41c1f]{font-size:24px}.stats-grid[data-v-67e41c1f]{display:flex;flex-wrap:wrap}.stat-card[data-v-67e41c1f]{width:calc(25% - 12px)}.admin-buttons[data-v-67e41c1f]{flex-direction:row;gap:16px}.admin-btn[data-v-67e41c1f]{flex:1}.admin-welcome[data-v-67e41c1f]{padding:24px 16px}.welcome-icon[data-v-67e41c1f]{font-size:40px}.welcome-message[data-v-67e41c1f]{font-size:20px}}@media (max-width:480px){.welcome-card[data-v-67e41c1f]{flex-direction:column;align-items:flex-start}.logout-btn[data-v-67e41c1f]{margin-top:16px;align-self:flex-end}.stat-card[data-v-67e41c1f]{padding:16px}.stat-number[data-v-67e41c1f]{font-size:28px}}\n\n/* 自定义分配弹窗样式 */.custom-modal-overlay[data-v-67e41c1f]{position:fixed;top:0;left:0;right:0;bottom:0;background-color:rgba(0,0,0,.5);display:flex;align-items:center;justify-content:center;z-index:1000}.custom-modal[data-v-67e41c1f]{background:#fff;border-radius:16px;width:90%;max-width:400px;max-height:80vh;overflow:hidden;box-shadow:0 10px 30px rgba(0,0,0,.3)}.custom-modal .modal-header[data-v-67e41c1f]{background:linear-gradient(135deg,#48cae4,#023e8a);color:#fff;padding:20px;display:flex;align-items:center;justify-content:space-between}.custom-modal .modal-title[data-v-67e41c1f]{font-size:18px;font-weight:600;margin:0}.custom-modal .close-btn[data-v-67e41c1f]{background:none;border:none;color:#fff;font-size:24px;cursor:pointer;padding:0;width:30px;height:30px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:background-color .3s ease}.custom-modal .close-btn[data-v-67e41c1f]:hover{background-color:hsla(0,0%,100%,.2)}.custom-modal .modal-body[data-v-67e41c1f]{padding:24px}.rule-item[data-v-67e41c1f], .warning-item[data-v-67e41c1f]{display:flex;align-items:center;margin-bottom:16px;padding:12px;border-radius:8px;background:#f8fafc}.warning-item[data-v-67e41c1f]{background:#fef2f2;border:1px solid #fecaca}.rule-icon[data-v-67e41c1f], .warning-icon[data-v-67e41c1f]{font-size:18px;margin-right:12px;width:24px;text-align:center}.rule-text[data-v-67e41c1f], .warning-text[data-v-67e41c1f]{font-size:14px;color:#374151;flex:1}.warning-text[data-v-67e41c1f]{color:#dc2626;font-weight:500}.custom-modal .modal-footer[data-v-67e41c1f]{padding:20px 24px;border-top:1px solid #e5e7eb;display:flex;gap:12px;justify-content:flex-end}.cancel-btn[data-v-67e41c1f], .confirm-btn[data-v-67e41c1f]{padding:10px 20px;border-radius:8px;font-size:14px;font-weight:500;cursor:pointer;transition:all .3s ease}.cancel-btn[data-v-67e41c1f]{background:#f3f4f6;color:#374151;border:1px solid #d1d5db}.cancel-btn[data-v-67e41c1f]:hover{background:#e5e7eb}.confirm-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#48cae4,#023e8a);color:#fff;border:none}.confirm-btn[data-v-67e41c1f]:hover:not(:disabled){-webkit-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 4px 12px rgba(72,202,228,.3)}.confirm-btn[data-v-67e41c1f]:disabled{background:#9ca3af;cursor:not-allowed;-webkit-transform:none;transform:none;box-shadow:none}\n\n/* 用户列表弹窗样式 */.user-modal-overlay[data-v-67e41c1f]{position:fixed!important;top:0!important;left:0!important;right:0!important;bottom:0!important;width:100vw!important;height:100vh!important;background:rgba(0,0,0,.5)!important;display:flex!important;align-items:center!important;justify-content:center!important;z-index:999999!important;padding:20px!important;box-sizing:border-box!important}.user-modal[data-v-67e41c1f]{background:#fff!important;border-radius:16px!important;box-shadow:0 20px 60px rgba(0,0,0,.3)!important;width:100%!important;max-width:500px!important;max-height:80vh!important;display:flex!important;flex-direction:column!important;-webkit-animation:modalShow-data-v-67e41c1f .3s ease-out!important;animation:modalShow-data-v-67e41c1f .3s ease-out!important;position:relative!important;z-index:1000000!important}@-webkit-keyframes modalShow-data-v-67e41c1f{from{opacity:0;-webkit-transform:scale(.8) translateY(-20px);transform:scale(.8) translateY(-20px)}to{opacity:1;-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}}@keyframes modalShow-data-v-67e41c1f{from{opacity:0;-webkit-transform:scale(.8) translateY(-20px);transform:scale(.8) translateY(-20px)}to{opacity:1;-webkit-transform:scale(1) translateY(0);transform:scale(1) translateY(0)}}.modal-header[data-v-67e41c1f]{display:flex;align-items:center;justify-content:space-between;padding:20px 24px 16px;border-bottom:1px solid #f1f5f9}.modal-title[data-v-67e41c1f]{font-size:18px;font-weight:600;color:#1e293b;margin:0}.close-btn[data-v-67e41c1f]{background:none;border:none;font-size:24px;color:#64748b;cursor:pointer;padding:4px;line-height:1;transition:color .3s ease}.close-btn[data-v-67e41c1f]:hover{color:#1e293b}.modal-body[data-v-67e41c1f]{flex:1;overflow-y:auto;padding:0 24px}.user-count[data-v-67e41c1f]{text-align:center;font-size:14px;color:#64748b;margin-bottom:16px;padding:8px 12px;background:#f8fafc;border-radius:8px}.user-list-container[data-v-67e41c1f]{display:flex;flex-direction:column;gap:12px;max-height:400px;overflow-y:auto}.user-item[data-v-67e41c1f]{display:flex;align-items:center;padding:16px;background:#f8fafc;border-radius:12px;cursor:pointer;transition:all .3s ease;border:2px solid transparent}.user-item[data-v-67e41c1f]:hover{background:#e2e8f0;border-color:#cbd5e1;-webkit-transform:translateY(-1px);transform:translateY(-1px)}.user-index[data-v-67e41c1f]{width:32px;height:32px;background:#667eea;color:#fff;border-radius:50%;display:flex;align-items:center;justify-content:center;font-size:14px;font-weight:600;margin-right:16px;flex-shrink:0}.user-info[data-v-67e41c1f]{flex:1;display:flex;flex-direction:column;gap:4px}.user-row[data-v-67e41c1f]{display:flex;align-items:center;gap:8px}.label[data-v-67e41c1f]{font-size:13px;color:#64748b;font-weight:500;min-width:40px}.value[data-v-67e41c1f]{font-size:14px;color:#1e293b;font-weight:600;font-family:Courier New,monospace}.user-role[data-v-67e41c1f]{background:#10b981;color:#fff;padding:4px 8px;border-radius:6px;font-size:12px;font-weight:500;white-space:nowrap}.user-role.admin[data-v-67e41c1f]{background:#f59e0b}.user-role.leader[data-v-67e41c1f]{background:#8b5cf6}.user-role.expert[data-v-67e41c1f]{background:#06b6d4}.modal-footer[data-v-67e41c1f]{padding:16px 24px 20px;border-top:1px solid #f1f5f9;display:flex;flex-direction:column;gap:12px}.tip[data-v-67e41c1f]{text-align:center;font-size:12px;color:#64748b}.confirm-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#667eea,#764ba2);color:#fff;border:none;border-radius:8px;padding:12px 24px;font-size:14px;font-weight:600;cursor:pointer;transition:all .3s ease;text-align:center}.confirm-btn[data-v-67e41c1f]:hover{-webkit-transform:translateY(-1px);transform:translateY(-1px);box-shadow:0 4px 12px rgba(102,126,234,.3)}\n\n/* 响应式设计 */@media (max-width:480px){.user-modal-overlay[data-v-67e41c1f]{padding:10px}.user-modal[data-v-67e41c1f]{max-height:90vh}.modal-header[data-v-67e41c1f],\n  .modal-footer[data-v-67e41c1f]{padding-left:16px;padding-right:16px}.modal-body[data-v-67e41c1f]{padding:0 16px}.user-item[data-v-67e41c1f]{padding:12px}.user-index[data-v-67e41c1f]{width:28px;height:28px;font-size:12px;margin-right:12px}}\n\n/* 隐藏底部取消按钮 */[data-v-67e41c1f]:deep(uni-button[size="mini"]),[data-v-67e41c1f]:deep(.uni-button),[data-v-67e41c1f]:deep(.uni-modal__btn),\nuni-button[size="mini"][data-v-67e41c1f],\n.cancel-btn[data-v-67e41c1f],\n.uni-modal__btn[data-v-67e41c1f],\nuni-button[type="default"][data-v-67e41c1f]{display:none!important}\n\n/* 成功弹窗样式 */.success-modal-overlay[data-v-67e41c1f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:1000;padding:20px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.success-modal[data-v-67e41c1f]{background:#fff;border-radius:24px;width:100%;max-width:480px;max-height:80vh;overflow-y:auto;box-shadow:0 32px 80px rgba(0,0,0,.2),0 0 0 1px hsla(0,0%,100%,.1);-webkit-animation:successSlideIn-data-v-67e41c1f .4s ease-out;animation:successSlideIn-data-v-67e41c1f .4s ease-out}@-webkit-keyframes successSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(20px) scale(.95);transform:translateY(20px) scale(.95);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}@keyframes successSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(20px) scale(.95);transform:translateY(20px) scale(.95);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}.success-header[data-v-67e41c1f]{text-align:center;padding:40px 32px 24px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:24px 24px 0 0}.success-icon[data-v-67e41c1f]{width:80px;height:80px;background:hsla(0,0%,100%,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;-webkit-animation:successPulse-data-v-67e41c1f 2s infinite;animation:successPulse-data-v-67e41c1f 2s infinite}@-webkit-keyframes successPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 hsla(0,0%,100%,.4)}50%{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 0 0 10px hsla(0,0%,100%,0)}}@keyframes successPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 hsla(0,0%,100%,.4)}50%{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 0 0 10px hsla(0,0%,100%,0)}}.checkmark[data-v-67e41c1f]{font-size:40px;font-weight:700;color:#fff}.success-title[data-v-67e41c1f]{font-size:24px;font-weight:700;margin:0 0 8px 0;color:#fff}.success-subtitle[data-v-67e41c1f]{font-size:16px;margin:0;opacity:.9;color:#fff}.success-body[data-v-67e41c1f]{padding:32px}.result-grid[data-v-67e41c1f]{display:grid;grid-template-columns:repeat(2,1fr);gap:20px;margin-bottom:32px}.result-item[data-v-67e41c1f]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:16px;padding:20px 16px;text-align:center;transition:all .3s ease}.result-item[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.1)}.result-label[data-v-67e41c1f]{display:block;font-size:14px;color:#64748b;margin-bottom:8px;font-weight:500}.result-value[data-v-67e41c1f]{display:block;font-size:24px;font-weight:700;color:#10b981}.success-summary[data-v-67e41c1f]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #bbf7d0;border-radius:16px;padding:24px;text-align:center}.summary-text[data-v-67e41c1f]{font-size:16px;color:#065f46;margin:0;line-height:1.6}.highlight[data-v-67e41c1f]{font-weight:700;color:#059669;background:rgba(16,185,129,.1);padding:2px 8px;border-radius:8px}.success-footer[data-v-67e41c1f]{padding:24px 32px 32px;text-align:center}.success-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:16px;padding:16px 32px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%;box-shadow:0 8px 24px rgba(16,185,129,.3)}.success-btn[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 12px 32px rgba(16,185,129,.4)}.success-btn[data-v-67e41c1f]:active{-webkit-transform:translateY(0);transform:translateY(0);box-shadow:0 4px 16px rgba(16,185,129,.3)}.btn-icon[data-v-67e41c1f]{font-size:18px}\n\n/* 响应式设计 */@media screen and (max-width:640px){.success-modal[data-v-67e41c1f]{margin:16px;max-width:none;border-radius:20px}.success-header[data-v-67e41c1f]{padding:32px 24px 20px;border-radius:20px 20px 0 0}.success-icon[data-v-67e41c1f]{width:64px;height:64px;margin-bottom:20px}.checkmark[data-v-67e41c1f]{font-size:32px}.success-title[data-v-67e41c1f]{font-size:20px}.success-subtitle[data-v-67e41c1f]{font-size:14px}.success-body[data-v-67e41c1f]{padding:24px}.result-grid[data-v-67e41c1f]{grid-template-columns:1fr;gap:16px;margin-bottom:24px}.result-item[data-v-67e41c1f]{padding:16px 12px}.result-value[data-v-67e41c1f]{font-size:20px}.success-summary[data-v-67e41c1f]{padding:20px}.summary-text[data-v-67e41c1f]{font-size:14px}.success-footer[data-v-67e41c1f]{padding:20px 24px 24px}}\n\n/* 导出成功弹窗样式 */.export-success-modal-overlay[data-v-67e41c1f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.export-success-modal[data-v-67e41c1f]{background:#fff;border-radius:24px;width:100%;max-width:400px;max-height:80vh;overflow-y:auto;box-shadow:0 32px 80px rgba(0,0,0,.2),0 0 0 1px hsla(0,0%,100%,.1);-webkit-animation:exportModalSlideIn-data-v-67e41c1f .4s ease-out;animation:exportModalSlideIn-data-v-67e41c1f .4s ease-out}@-webkit-keyframes exportModalSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(20px) scale(.95);transform:translateY(20px) scale(.95);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}@keyframes exportModalSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(20px) scale(.95);transform:translateY(20px) scale(.95);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}.export-success-header[data-v-67e41c1f]{text-align:center;padding:40px 32px 24px;background:linear-gradient(135deg,#10b981,#059669);color:#fff;border-radius:24px 24px 0 0}.export-success-icon[data-v-67e41c1f]{width:80px;height:80px;background:hsla(0,0%,100%,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 24px;-webkit-animation:exportSuccessPulse-data-v-67e41c1f 2s infinite;animation:exportSuccessPulse-data-v-67e41c1f 2s infinite}@-webkit-keyframes exportSuccessPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 hsla(0,0%,100%,.4)}50%{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 0 0 10px hsla(0,0%,100%,0)}}@keyframes exportSuccessPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1);box-shadow:0 0 0 0 hsla(0,0%,100%,.4)}50%{-webkit-transform:scale(1.05);transform:scale(1.05);box-shadow:0 0 0 10px hsla(0,0%,100%,0)}}.checkmark[data-v-67e41c1f]{font-size:40px;font-weight:700;color:#fff}.export-success-title[data-v-67e41c1f]{font-size:24px;font-weight:700;margin:0 0 8px 0;color:#fff}.export-success-subtitle[data-v-67e41c1f]{font-size:16px;margin:0;opacity:.9;color:#fff}.export-success-body[data-v-67e41c1f]{padding:32px}.export-info-grid[data-v-67e41c1f]{display:grid;grid-template-columns:1fr;gap:20px;margin-bottom:32px}.export-info-item[data-v-67e41c1f]{background:#f8fafc;border:1px solid #e2e8f0;border-radius:16px;padding:20px 16px;text-align:center;transition:all .3s ease}.export-info-item[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.1)}.export-info-label[data-v-67e41c1f]{display:block;font-size:14px;color:#64748b;margin-bottom:8px;font-weight:500}.export-info-value[data-v-67e41c1f]{display:block;font-size:18px;font-weight:700;color:#10b981;word-break:break-all}.export-success-summary[data-v-67e41c1f]{background:linear-gradient(135deg,#ecfdf5,#d1fae5);border:1px solid #bbf7d0;border-radius:16px;padding:24px;text-align:center}.export-summary-text[data-v-67e41c1f]{font-size:16px;color:#065f46;margin:0;line-height:1.6}.highlight[data-v-67e41c1f]{font-weight:700;color:#059669;background:rgba(16,185,129,.1);padding:2px 8px;border-radius:8px}.export-success-footer[data-v-67e41c1f]{padding:24px 32px 32px;text-align:center}.export-success-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#10b981,#059669);color:#fff;border:none;border-radius:16px;padding:16px 32px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;display:flex;align-items:center;justify-content:center;gap:8px;width:100%;box-shadow:0 8px 24px rgba(16,185,129,.3)}.export-success-btn[data-v-67e41c1f]:hover{-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 12px 32px rgba(16,185,129,.4)}.export-success-btn[data-v-67e41c1f]:active{-webkit-transform:translateY(0);transform:translateY(0);box-shadow:0 4px 16px rgba(16,185,129,.3)}.btn-icon[data-v-67e41c1f]{font-size:18px}\n\n/* 响应式设计 */@media screen and (max-width:640px){.export-success-modal[data-v-67e41c1f]{margin:16px;max-width:none;border-radius:20px}.export-success-header[data-v-67e41c1f]{padding:32px 24px 20px;border-radius:20px 20px 0 0}.export-success-icon[data-v-67e41c1f]{width:64px;height:64px;margin-bottom:20px}.checkmark[data-v-67e41c1f]{font-size:32px}.export-success-title[data-v-67e41c1f]{font-size:20px}.export-success-subtitle[data-v-67e41c1f]{font-size:14px}.export-success-body[data-v-67e41c1f]{padding:24px}.export-info-grid[data-v-67e41c1f]{gap:16px;margin-bottom:24px}.export-info-item[data-v-67e41c1f]{padding:16px 12px}.export-info-value[data-v-67e41c1f]{font-size:16px}.export-success-summary[data-v-67e41c1f]{padding:20px}.export-summary-text[data-v-67e41c1f]{font-size:14px}.export-success-footer[data-v-67e41c1f]{padding:20px 24px 24px}}\n\n/* 重置用户确认弹窗样式 */.reset-users-modal-overlay[data-v-67e41c1f]{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.6);display:flex;align-items:center;justify-content:center;z-index:10000;padding:20px;-webkit-backdrop-filter:blur(8px);backdrop-filter:blur(8px)}.reset-users-modal[data-v-67e41c1f]{background:#fff;border-radius:24px;width:100%;max-width:500px;max-height:85vh;overflow-y:auto;box-shadow:0 32px 80px rgba(0,0,0,.25),0 0 0 1px hsla(0,0%,100%,.1);-webkit-animation:resetModalSlideIn-data-v-67e41c1f .4s ease-out;animation:resetModalSlideIn-data-v-67e41c1f .4s ease-out}@-webkit-keyframes resetModalSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(30px) scale(.92);transform:translateY(30px) scale(.92);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}@keyframes resetModalSlideIn-data-v-67e41c1f{from{-webkit-transform:translateY(30px) scale(.92);transform:translateY(30px) scale(.92);opacity:0}to{-webkit-transform:translateY(0) scale(1);transform:translateY(0) scale(1);opacity:1}}.reset-modal-header[data-v-67e41c1f]{text-align:center;padding:40px 32px 24px;background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;border-radius:24px 24px 0 0;position:relative}.reset-header-icon[data-v-67e41c1f]{width:80px;height:80px;background:hsla(0,0%,100%,.2);border-radius:50%;display:flex;align-items:center;justify-content:center;margin:0 auto 20px;-webkit-animation:resetIconRotate-data-v-67e41c1f 2s ease-in-out infinite;animation:resetIconRotate-data-v-67e41c1f 2s ease-in-out infinite}@-webkit-keyframes resetIconRotate-data-v-67e41c1f{0%, 100%{-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1)}25%{-webkit-transform:rotate(-10deg) scale(1.05);transform:rotate(-10deg) scale(1.05)}75%{-webkit-transform:rotate(10deg) scale(1.05);transform:rotate(10deg) scale(1.05)}}@keyframes resetIconRotate-data-v-67e41c1f{0%, 100%{-webkit-transform:rotate(0deg) scale(1);transform:rotate(0deg) scale(1)}25%{-webkit-transform:rotate(-10deg) scale(1.05);transform:rotate(-10deg) scale(1.05)}75%{-webkit-transform:rotate(10deg) scale(1.05);transform:rotate(10deg) scale(1.05)}}.reset-icon[data-v-67e41c1f]{font-size:36px;color:#fff}.reset-modal-title[data-v-67e41c1f]{font-size:24px;font-weight:700;margin:0 0 8px 0;color:#fff}.reset-modal-subtitle[data-v-67e41c1f]{font-size:16px;margin:0;opacity:.9;color:#fff}.reset-close-btn[data-v-67e41c1f]{position:absolute;top:16px;right:16px;background:hsla(0,0%,100%,.2);border:none;color:#fff;font-size:24px;cursor:pointer;padding:8px;width:40px;height:40px;display:flex;align-items:center;justify-content:center;border-radius:50%;transition:all .3s ease}.reset-close-btn[data-v-67e41c1f]:hover{background:hsla(0,0%,100%,.3);-webkit-transform:rotate(90deg);transform:rotate(90deg)}.reset-modal-body[data-v-67e41c1f]{padding:32px}.reset-info-section[data-v-67e41c1f]{margin-bottom:32px}.reset-section-title[data-v-67e41c1f]{font-size:18px;font-weight:600;color:#1e293b;margin:0 0 20px 0;display:flex;align-items:center;gap:8px}.reset-section-title[data-v-67e41c1f]::before{content:"📝";font-size:18px}.reset-action-item[data-v-67e41c1f]{display:flex;align-items:center;padding:16px 20px;margin-bottom:12px;background:linear-gradient(135deg,#f8fafc,#f1f5f9);border:1px solid #e2e8f0;border-radius:16px;transition:all .3s ease}.reset-action-item[data-v-67e41c1f]:hover{-webkit-transform:translateX(4px);transform:translateX(4px);box-shadow:0 8px 24px rgba(0,0,0,.1);border-color:#cbd5e1}.reset-action-icon[data-v-67e41c1f]{font-size:20px;margin-right:16px;width:24px;text-align:center;flex-shrink:0}.reset-action-text[data-v-67e41c1f]{font-size:15px;color:#374151;font-weight:500;flex:1}.reset-action-content[data-v-67e41c1f]{flex:1;display:flex;flex-direction:column;gap:8px}.expert-list[data-v-67e41c1f]{font-size:13px;color:#6b7280;line-height:1.4;padding:8px 12px;background:rgba(59,130,246,.05);border:1px solid rgba(59,130,246,.1);border-radius:8px;font-family:Courier New,monospace}.reset-warning-section[data-v-67e41c1f]{background:linear-gradient(135deg,#fef2f2,#fee2e2);border:2px solid #fecaca;border-radius:20px;padding:24px}.reset-warning-item[data-v-67e41c1f]{display:flex;align-items:flex-start;gap:16px}.reset-warning-icon[data-v-67e41c1f]{font-size:24px;flex-shrink:0;margin-top:2px;-webkit-animation:warningPulse-data-v-67e41c1f 2s ease-in-out infinite;animation:warningPulse-data-v-67e41c1f 2s ease-in-out infinite}@-webkit-keyframes warningPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}}@keyframes warningPulse-data-v-67e41c1f{0%, 100%{-webkit-transform:scale(1);transform:scale(1)}50%{-webkit-transform:scale(1.1);transform:scale(1.1)}}.reset-warning-content[data-v-67e41c1f]{flex:1}.reset-warning-title[data-v-67e41c1f]{font-size:16px;font-weight:700;color:#dc2626;margin:0 0 8px 0}.reset-warning-text[data-v-67e41c1f]{font-size:14px;color:#7f1d1d;margin:0;line-height:1.5}.reset-modal-footer[data-v-67e41c1f]{padding:24px 32px 32px;display:flex;gap:16px;justify-content:center}.reset-cancel-btn[data-v-67e41c1f],\n.reset-confirm-btn[data-v-67e41c1f]{display:flex;align-items:center;justify-content:center;gap:8px;padding:16px 24px;border-radius:16px;font-size:16px;font-weight:600;cursor:pointer;transition:all .3s ease;min-width:140px;border:none}.reset-cancel-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#f3f4f6,#e5e7eb);color:#374151;border:2px solid #d1d5db}.reset-cancel-btn[data-v-67e41c1f]:hover{background:linear-gradient(135deg,#e5e7eb,#d1d5db);-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 8px 24px rgba(0,0,0,.1)}.reset-confirm-btn[data-v-67e41c1f]{background:linear-gradient(135deg,#f59e0b,#d97706);color:#fff;box-shadow:0 8px 24px rgba(245,158,11,.3)}.reset-confirm-btn[data-v-67e41c1f]:hover:not(:disabled){background:linear-gradient(135deg,#d97706,#b45309);-webkit-transform:translateY(-2px);transform:translateY(-2px);box-shadow:0 12px 32px rgba(245,158,11,.4)}.reset-confirm-btn[data-v-67e41c1f]:disabled{background:linear-gradient(135deg,#9ca3af,#6b7280);cursor:not-allowed;-webkit-transform:none;transform:none;box-shadow:0 4px 16px rgba(156,163,175,.2)}.reset-confirm-btn:disabled .btn-icon[data-v-67e41c1f]{-webkit-animation:loadingRotate-data-v-67e41c1f 1s linear infinite;animation:loadingRotate-data-v-67e41c1f 1s linear infinite}@-webkit-keyframes loadingRotate-data-v-67e41c1f{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}@keyframes loadingRotate-data-v-67e41c1f{from{-webkit-transform:rotate(0deg);transform:rotate(0deg)}to{-webkit-transform:rotate(1turn);transform:rotate(1turn)}}\n\n/* 重置弹窗响应式设计 */@media screen and (max-width:640px){.reset-users-modal[data-v-67e41c1f]{margin:16px;max-width:none;border-radius:20px}.reset-modal-header[data-v-67e41c1f]{padding:32px 24px 20px;border-radius:20px 20px 0 0}.reset-header-icon[data-v-67e41c1f]{width:64px;height:64px;margin-bottom:16px}.reset-icon[data-v-67e41c1f]{font-size:28px}.reset-modal-title[data-v-67e41c1f]{font-size:20px}.reset-modal-subtitle[data-v-67e41c1f]{font-size:14px}.reset-modal-body[data-v-67e41c1f]{padding:24px}.reset-action-item[data-v-67e41c1f]{padding:12px 16px}.reset-action-text[data-v-67e41c1f]{font-size:14px}.reset-warning-section[data-v-67e41c1f]{padding:20px}.reset-modal-footer[data-v-67e41c1f]{padding:20px 24px 24px;flex-direction:column}.reset-cancel-btn[data-v-67e41c1f],\n  .reset-confirm-btn[data-v-67e41c1f]{width:100%;min-width:auto}}',""]),t.exports=e},f33b:function(t,e,a){"use strict";a.r(e);var s=a("ba78"),n=a("22e4");for(var r in n)["default"].indexOf(r)<0&&function(t){a.d(e,t,(function(){return n[t]}))}(r);a("fb56");var o=a("828b"),i=Object(o["a"])(n["default"],s["b"],s["c"],!1,null,"67e41c1f",null,!1,s["a"],void 0);e["default"]=i.exports},fb56:function(t,e,a){"use strict";var s=a("c19f"),n=a.n(s);n.a}}]);